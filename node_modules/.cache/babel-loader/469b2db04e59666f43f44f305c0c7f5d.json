{"ast":null,"code":"import _slicedToArray from\"/home/essayyzed/Documents/react_portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-unreachable */import{useEffect,useState}from'react';import{useParams}from'react-router-dom';import sanityClient from'../client';import ImageUrlBuilder from'@sanity/image-url';import BlockContent from\"@sanity/block-content-to-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var builder=ImageUrlBuilder(sanityClient);function urlFor(source){return builder.image(source);}export default function SinglePost(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),singlePost=_useState2[0],setSinglePost=_useState2[1];var _useParams=useParams(),slug=_useParams.slug;useEffect(function(){sanityClient.fetch(\"*[slug.current == \\\"\".concat(slug,\"\\\"]{\\n            title,\\n            _id,\\n            slug,\\n            mainImage{\\n                asset->{\\n                    _id,\\n                    url\\n                }\\n            },\\n            body,\\n            \\\"name\\\":author->name,\\n            \\\"authorImage\\\": author->image\\n        }\\n        \")).then(function(data){return setSinglePost(data[0]);}).catch(console.error);},[slug]);if(!singlePost)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading....\"});return/*#__PURE__*/_jsx(\"main\",{className:\"bg-gray-200 min-h-screen p-12\",children:/*#__PURE__*/_jsxs(\"article\",{className:\"container shadow-lg mx-auto bg-green-100 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute h-full w-full flex items-center justify-center p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white bg-opacity-75 rounded p-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"cursive text-3xl lg:text-6xl mb-4\",children:singlePost.title}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center text-gray-800\",children:/*#__PURE__*/_jsx(\"img\",{src:urlFor(singlePost.authorImage).url(),alt:singlePost.name,className:\"w-10 h-10 rounded-full\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"cursive flex items-center pl-2 text-2xl\",children:singlePost.name})]})}),/*#__PURE__*/_jsx(\"img\",{src:singlePost.mainImage.asset.url,alt:\"{singlePost.title}\",className:\"w-full object-cover rounder-t\",style:{height:\"400px\"}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-16 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\",children:[/*#__PURE__*/_jsx(BlockContent,{blocks:singlePost.body,projectId:\"rv3ddove\",dataset:\"production\"}),\" \"]})]})});}","map":{"version":3,"sources":["/home/essayyzed/Documents/react_portfolio/src/components/SinglePost.js"],"names":["useEffect","useState","useParams","sanityClient","ImageUrlBuilder","BlockContent","builder","urlFor","source","image","SinglePost","singlePost","setSinglePost","slug","fetch","then","data","catch","console","error","title","authorImage","url","name","mainImage","asset","height","body"],"mappings":"4HAAA,mCACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,WAAzB,CACA,MAAOC,CAAAA,eAAP,KAA6B,mBAA7B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,C,wFAEA,GAAMC,CAAAA,OAAO,CAAGF,eAAe,CAACD,YAAD,CAA/B,CACA,QAASI,CAAAA,MAAT,CAAgBC,MAAhB,CAAwB,CACpB,MAAOF,CAAAA,OAAO,CAACG,KAAR,CAAcD,MAAd,CAAP,CACH,CAED,cAAe,SAASE,CAAAA,UAAT,EAAsB,CACjC,cAAoCT,QAAQ,CAAC,IAAD,CAA5C,wCAAOU,UAAP,eAAmBC,aAAnB,eACA,eAAiBV,SAAS,EAA1B,CAAQW,IAAR,YAAQA,IAAR,CAEAb,SAAS,CAAC,UAAM,CACZG,YAAY,CACPW,KADL,+BAE8BD,IAF9B,mUAkBKE,IAlBL,CAkBU,SAACC,IAAD,QAAUJ,CAAAA,aAAa,CAACI,IAAI,CAAC,CAAD,CAAL,CAAvB,EAlBV,EAmBKC,KAnBL,CAmBWC,OAAO,CAACC,KAnBnB,EAoBH,CArBQ,CAqBN,CAACN,IAAD,CArBM,CAAT,CAuBA,GAAI,CAACF,UAAL,CAAiB,mBAAO,oCAAP,CAGjB,mBACI,aAAM,SAAS,CAAC,+BAAhB,uBACI,iBAAS,SAAS,CAAC,qDAAnB,wBACI,gBAAQ,SAAS,CAAC,UAAlB,wBACI,YAAK,SAAS,CAAC,6DAAf,uBACI,aAAK,SAAS,CAAC,qCAAf,wBACI,WAAI,SAAS,CAAC,mCAAd,UACKA,UAAU,CAACS,KADhB,EADJ,cAII,YAAK,SAAS,CAAC,mCAAf,uBACI,YACI,GAAG,CAAEb,MAAM,CAACI,UAAU,CAACU,WAAZ,CAAN,CAA+BC,GAA/B,EADT,CAEI,GAAG,CAAEX,UAAU,CAACY,IAFpB,CAGI,SAAS,CAAC,wBAHd,EADJ,EAJJ,cAWI,UAAG,SAAS,CAAC,yCAAb,UACKZ,UAAU,CAACY,IADhB,EAXJ,GADJ,EADJ,cAkBI,YAAK,GAAG,CAAEZ,UAAU,CAACa,SAAX,CAAqBC,KAArB,CAA2BH,GAArC,CAA0C,GAAG,CAAC,oBAA9C,CACA,SAAS,CAAC,+BADV,CAEA,KAAK,CAAE,CAACI,MAAM,CAAE,OAAT,CAFP,EAlBJ,GADJ,cAwBI,aAAK,SAAS,CAAC,4DAAf,wBACG,KAAE,YAAF,EAAe,MAAM,CAAEf,UAAU,CAACgB,IAAlC,CAAwC,SAAS,CAAC,UAAlD,CAA6D,OAAO,CAAC,YAArE,EADH,OAxBJ,GADJ,EADJ,CA+BH","sourcesContent":["/* eslint-disable no-unreachable */\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport sanityClient from '../client';\nimport ImageUrlBuilder  from '@sanity/image-url';\nimport BlockContent from \"@sanity/block-content-to-react\"\n\nconst builder = ImageUrlBuilder(sanityClient);\nfunction urlFor(source) {\n    return builder.image(source);\n}\n\nexport default function SinglePost() {\n    const [singlePost, setSinglePost] = useState(null);\n    const { slug } = useParams();\n\n    useEffect(() => {\n        sanityClient\n            .fetch(\n                `*[slug.current == \"${slug}\"]{\n            title,\n            _id,\n            slug,\n            mainImage{\n                asset->{\n                    _id,\n                    url\n                }\n            },\n            body,\n            \"name\":author->name,\n            \"authorImage\": author->image\n        }\n        `,\n            )\n            .then((data) => setSinglePost(data[0]))\n            .catch(console.error);\n    }, [slug]);\n\n    if (!singlePost) return <div>Loading....</div>;\n\n\n    return (\n        <main className=\"bg-gray-200 min-h-screen p-12\">\n            <article className=\"container shadow-lg mx-auto bg-green-100 rounded-lg\">\n                <header className=\"relative\">\n                    <div className=\"absolute h-full w-full flex items-center justify-center p-8\">\n                        <div className=\"bg-white bg-opacity-75 rounded p-12\">\n                            <h1 className=\"cursive text-3xl lg:text-6xl mb-4\">\n                                {singlePost.title}\n                            </h1>\n                            <div className=\"flex justify-center text-gray-800\">\n                                <img\n                                    src={urlFor(singlePost.authorImage).url()}\n                                    alt={singlePost.name}\n                                    className=\"w-10 h-10 rounded-full\"\n                                />\n                            </div>\n                            <p className=\"cursive flex items-center pl-2 text-2xl\">\n                                {singlePost.name}\n                            </p>\n                        </div>\n                    </div>\n                    <img src={singlePost.mainImage.asset.url} alt=\"{singlePost.title}\" \n                    className=\"w-full object-cover rounder-t\" \n                    style={{height: \"400px\"}}\n                    />\n                </header>\n                <div className=\"px-16 lg:px-48 py-12 lg:py-20 prose lg:prose-xl max-w-full\">\n                   < BlockContent blocks={singlePost.body} projectId=\"rv3ddove\" dataset=\"production\"/> </div>\n            </article>\n        </main>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}